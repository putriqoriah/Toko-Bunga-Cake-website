<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kue Ulang Tahun Pinky</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <div class="header-container">
        <h1 class="logo">Toko Bunga & Cake</h1>

        <nav id="navbar" class="nav-menu">
          <a href="index.html">Home</a>
          <a href="produk.html">Produk</a>
          <a href="kontak.html">Kontak</a>
          <a href="keranjang.html"
            >Keranjang (<span id="cart-count">0</span>)</a
          >
        </nav>

        <button id="hamburger" class="hamburger">&#9776;</button>
      </div>
    </header>

    <main class="detail-produk">
      <div class="produk-container">
        <div class="produk-gambar">
          <img src="image/Img_2.jpg" alt="Kue Ulang Tahun Pinky" />
        </div>
        <div class="produk-info">
          <h2>Kue Ulang Tahun Pinky</h2>
          <p class="deskripsi">
            Kue ulang tahun bertema warna pink yang manis, dihiasi buttercream
            dan dekorasi ceria. Cocok untuk pesta ulang tahun anak dan keluarga!
          </p>

          <label for="ukuran">Pilih Diameter Kue:</label>
          <select id="ukuran">
            <option value="15cm" data-harga="70000">
              Diameter 15cm - Rp 70.000
            </option>
            <option value="20cm" data-harga="120000" selected>
              Diameter 20cm - Rp 120.000
            </option>
            <option value="25cm" data-harga="170000">
              Diameter 30cm - Rp 175.000
            </option>
          </select>

          <p class="harga">Harga: <span id="harga-produk">Rp 120.000</span></p>

          <button onclick="tambahKeKeranjang()">Beli</button>
        </div>
      </div>
    </main>

    <footer>
      <p>
        📍 Jl. Bunisari No 188B, Bandung| 📞 0895-2466-0539| 📧
        tokobungacake@email.com
      </p>
    </footer>

    <script>
      const selectUkuran = document.getElementById("ukuran");
      const hargaEl = document.getElementById("harga-produk");

      selectUkuran.addEventListener("change", () => {
        const harga = selectUkuran.selectedOptions[0].dataset.harga;
        hargaEl.textContent = `Rp ${parseInt(harga).toLocaleString("id-ID")}`;
      });

      function tambahKeKeranjang() {
        const ukuran = selectUkuran.value;
        const harga = parseInt(selectUkuran.selectedOptions[0].dataset.harga);
        const item = {
          nama: "Kue Ulang Tahun Pinky (" + ukuran + ")",
          harga: harga,
          jumlah: 1,
        };

        let keranjang = JSON.parse(localStorage.getItem("keranjang")) || [];
        const existing = keranjang.find((p) => p.nama === item.nama);

        if (existing) {
          existing.jumlah++;
        } else {
          keranjang.push(item);
        }

        localStorage.setItem("keranjang", JSON.stringify(keranjang));
        updateJumlahKeranjang();
        alert("Produk ditambahkan ke keranjang!");
      }

      function updateJumlahKeranjang() {
        const keranjang = JSON.parse(localStorage.getItem("keranjang")) || [];
        const total = keranjang.reduce((sum, item) => sum + item.jumlah, 0);
        document.getElementById("keranjang-jumlah").textContent = total;
      }

      document.addEventListener("DOMContentLoaded", updateJumlahKeranjang);
    </script>
  </body>
</html>
